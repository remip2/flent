## -*- mode: python; coding: utf-8 -*-

DESCRIPTION="HTTP upload"
DEFAULTS={'PLOT': 'bandwidth'}
TOTAL_LENGTH=LENGTH+2*DELAY
HTTP_SIZE=TEST_PARAMETERS.get("http_size", "1M")
HTTP_PORT=TEST_PARAMETERS.get("http_port", 80)

DATA_SETS=o()

DATA_SETS['HTTP'] = {'protocol': 'http', 'direction': 'upload', 'port': HTTP_PORT, 'length': LENGTH, 'host': HOST, 'size': HTTP_SIZE,
                     'units': 'Mbits/s', 'runner': 'http_perf', 'id': 'HTTP'}
DATA_SETS['HTTP::upload'] = {'units': 'Mbits/s', 'runner': 'null'}
DATA_SETS['HTTP::download'] = {'units': 'Mbits/s', 'runner': 'null'}
DATA_SETS['HTTP::transaction'] = {'units': 'transaction/s', 'runner': 'null'}
DATA_SETS['HTTP::responsetime'] = {'units': 'ms', 'runner': 'null'}

PLOTS['bandwidth'] = {'description': 'TCP bandwidth plot',
      'type': 'timeseries',
      'series': [{'data': 'HTTP::upload',
                  'label': 'HTTP upload out'},
                  {'data': 'HTTP::download',
                  'label': 'HTTP upload in'},
                ]}

PLOTS['transaction'] = {'description': 'HTTP transaction plot',
      'type': 'timeseries',
      'series': [{'data': 'HTTP::transaction',
                  'label': 'HTTP transaction'}
                ]}

PLOTS['responsetime'] = {'description': 'HTTP response time plot',
      'type': 'timeseries',
      'series': [{'data': 'HTTP::responsetime',
                  'label': 'HTTP response time'}
                ]}

include("common.inc")
